---
jupytext:
  formats: md:myst
  text_representation:
    extension: .md
    format_name: myst
kernelspec:
  display_name: Python 3
  language: python
  name: python3
---

# üèÜSelbsttest: V2

````{admonition} Hinweis
:class: hinweis
Diese √úbungsaufgaben dienen Ihrer Selbsteinsch√§tzung und helfen Ihnen, das im Kapitel Gelernte zu reflektieren.

Sie k√∂nnen die Fragen in beliebiger Reihenfolge bearbeiten und die Beantwortung auch mehrfach versuchen. 

**So funktioniert es:**
- W√§hlen Sie bei jeder Frage die Antwort(en) aus, die Sie f√ºr richtig halten
- Lesen Sie das Feedback zu den einzelnen Antwortoptionen sorgf√§ltig durch
- Die Erkl√§rungen helfen Ihnen, Ihr Verst√§ndnis zu vertiefen ‚Äì auch bei korrekten Antworten 

Es erfolgt keine Bewertung oder Speicherung Ihrer Ergebnisse. Nutzen Sie dieses Assessment, um Wissensl√ºcken zu identifizieren und gegebenenfalls die entsprechenden Abschnitte des Kapitels nochmals zu bearbeiten. 

**Gesch√§tzte Zeit**: XX

Viel Erfolg!
````

# Aufgabe 0 multiple boxes

```{raw} html
<script>
function setupAllDND(){                       // call exactly once, after page loads

  document.querySelectorAll('.dnd-exercise').forEach(ex=>{

      const choices=ex.querySelector('.choices');

      const target =ex.querySelector('.target');

      const answer=ex.dataset.answer.split(',');

      const ordered=(ex.dataset.order==='true');

      let drag=null;



      ex.querySelectorAll('.dnd-item').forEach(el=>

        el.addEventListener('dragstart',()=>drag=el)

      );



      [choices,target].forEach(box=>{

        box.addEventListener('dragover',e=>{e.preventDefault();box.classList.add('dragover')});

        box.addEventListener('dragleave',()=>box.classList.remove('dragover'));

        box.addEventListener('drop',e=>{

            e.preventDefault();box.classList.remove('dragover');box.appendChild(drag);

        });

      });



      ex.querySelector('.check').addEventListener('click',()=>{

        const picked=[...target.querySelectorAll('.dnd-item')].map(x=>x.dataset.key);

        const ok= ordered

                ? picked.join()===answer.join()

                : picked.sort().join()===answer.slice().sort().join();

        if(ok){alert('‚úÖ Correct!');target.classList.add('ok');}

        else  {alert('‚ùå Try again');
            target.classList.remove('ok');
            /* NEW: send everything back to the choices box */
            target.querySelectorAll('.dnd-item')
                  .forEach(el => choices.appendChild(el));
        }

      });



      ex.querySelector('.reset').addEventListener('click',()=>{

        target.querySelectorAll('.dnd-item').forEach(el=>choices.appendChild(el));

        target.classList.remove('ok');

      });

  });

}

/* Wait until the DOM is fully parsed */
document.addEventListener('DOMContentLoaded',setupAllDND);

/* add this *once* if your page still uses the old setupAllDND() -------- */
document.addEventListener('DOMContentLoaded', () => {

  /* extend the original wiring only for .slot targets */
  document.querySelectorAll('.dnd-exercise').forEach(ex=>{
      const choices = ex.querySelector('.choices');
      const slots   = ex.querySelectorAll('.slot');
      const answer  = ex.dataset.answer.split(',');
      let drag = null;

      /* make cards draggable */
      ex.querySelectorAll('.dnd-item').forEach(el =>
        el.addEventListener('dragstart', () => drag = el)
      );

      /* choices box still accepts unlimited drops */
      makeDroppable(choices, false);

      /* every slot: accept drop only if empty ------------------------- */
      slots.forEach(slot => makeDroppable(slot, true));

      /* helper -------------------------------------------------------- */
      function makeDroppable(box, single){
        box.addEventListener('dragover', e => {
            if (!single || box.children.length === 0){
               e.preventDefault();
               box.classList.add('dragover');
            }
        });
        box.addEventListener('dragleave', () => box.classList.remove('dragover'));
        box.addEventListener('drop', e => {
            e.preventDefault(); box.classList.remove('dragover');
            if (!single || box.children.length === 0) box.appendChild(drag);
        });
      }

      /* Check --------------------------------------------------------- */
      ex.querySelector('.check').addEventListener('click', () => {
        const picked = [...slots].map(s => s.firstElementChild?.dataset.key || '');
        const ok = picked.join() === answer.join();

        if (ok){
          alert('‚úÖ Correct!');
          slots.forEach(s => s.classList.add('ok'));
        }else{
          alert('‚ùå Not correct.');
          slots.forEach(s => { s.classList.remove('ok');           // remove green
                               if (s.firstElementChild) choices.appendChild(s.firstElementChild); });
        }
      });

      /* Reset button -------------------------------------------------- */
      ex.querySelector('.reset').addEventListener('click', () => {
        slots.forEach(s => { if (s.firstElementChild) choices.appendChild(s.firstElementChild);
                             s.classList.remove('ok'); });
      });
  });
});
</script>
```

```{raw} html
<!-- ‚ñë‚ñë‚ñë  3-slot ordering exercise  ‚ñë‚ñë‚ñë -->
<div class="dnd-exercise" data-answer="2,4,3" data-order="true">

  <!-- Choices strip -->
  <div class="dnd-box choices vertical">        <!-- vertical = one card per line -->
    <span class="dnd-item" draggable="true" data-key="3">3</span>
    <span class="dnd-item" draggable="true" data-key="2">2</span>
    <span class="dnd-item" draggable="true" data-key="4">4</span>
  </div>

  <!-- Three single-card target slots -->
  <div style="display:flex; gap:1rem">
    <div class="dnd-box slot"   data-pos="0"></div>
    <div class="dnd-box slot"   data-pos="1"></div>
    <div class="dnd-box slot"   data-pos="2"></div>
  </div>

  <!-- Buttons -->
  <div>
    <button class="dnd-btn check">Check</button>
    <button class="dnd-btn reset">Reset</button>
  </div>
</div>
```

